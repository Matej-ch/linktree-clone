{% extends 'base.html.twig' %}

{% block title %}Settings{% endblock %}

{% block body %}

    <div class="w-full relative">
        {% if is_granted('ROLE_USER') %}
            <div class="max-w-5xl mx-auto px-6 sm:px-6 lg:px-8 mb-12 mt-12 absolute right-0">
                <a class="mt-9 font-semibold leading-none text-white py-4 px-10 bg-orange-500 rounded hover:bg-orange-600 focus:ring-2 focus:ring-offset-2 focus:ring-orange-700 focus:outline-none"
                   href="{{ path('app_2fa_enable') }}">
                    Enable 2fa
                </a>
            </div>
        {% endif %}
        <div class="bg-gradient-to-b from-blue-700 to-blue-500 h-96"></div>
        <div class="max-w-5xl mx-auto px-6 sm:px-6 lg:px-8 mb-12 mt-12">
            <div class="bg-white w-full shadow rounded p-8 sm:py-12 sm:px-3 -mt-72">
                <p class="text-3xl font-bold leading-7 text-center">Colors for links</p>
                {{ form_start(form) }}

                <div class="md:flex items-center mt-12 gap-4">
                    <div class="w-full md:w-1/2 flex flex-col">

                        <div class="color-picker" {{ stimulus_controller('color-picker') }}>

                            <span class="flex flex-row gap-2">
                                {{ form_label(form.backgroundColor, null, {label_attr: {'class': 'font-semibold leading-none block mb-2' }}) }}

                                <svg xmlns="http://www.w3.org/2000/svg"
                                     class="icon icon-tabler icon-tabler-shadow cursor-pointer"
                                     data-action="click->color-picker#showGradient"
                                     data-color-picker-target="toggleGradientOn"
                                     width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50"
                                     fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                    <circle cx="12" cy="12" r="9"/>
                                    <path d="M13 12h5"/>
                                    <path d="M13 15h4"/>
                                    <path d="M13 18h1"/>
                                    <path d="M13 9h4"/>
                                    <path d="M13 6h1"/>
                                </svg>

                                <svg xmlns="http://www.w3.org/2000/svg"
                                     class="icon icon-tabler icon-tabler-shadow-off hidden cursor-pointer"
                                     data-action="click->color-picker#hideGradient"
                                     data-color-picker-target="toggleGradientOff"
                                     width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50"
                                     fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                    <path d="M5.634 5.638a9 9 0 0 0 12.728 12.727m1.68 -2.32a9 9 0 0 0 -12.086 -12.088"/>
                                    <path d="M16 12h2"/>
                                    <path d="M13 15h2"/>
                                    <path d="M13 18h1"/>
                                    <path d="M13 9h4"/>
                                    <path d="M13 6h1"/>
                                    <path d="M3 3l18 18"/>
                                </svg>
                            </span>


                            {{ form_widget(form.backgroundColor, {
                                attr: {
                                    'class': 'hidden leading-none text-slate-900 focus:outline-none focus:border-blue-700 mt-4 bg-slate-100 border rounded border-slate-200 w-full h-10',
                                    'data-color-picker-target': 'colorInput'
                                }}) }}

                            <div data-color-picker-target="picker" class="py-4"></div>
                        </div>
                    </div>
                    <div class="w-full md:w-1/2 flex flex-col">

                        <div class="color-picker" {{ stimulus_controller('color-picker') }}>

                            <span class="flex flex-col">
                                {{ form_label(form.textColor, null, {label_attr: {'class': 'font-semibold leading-none block mb-2' }}) }}

                                <span class="hidden">
                                    <svg xmlns="http://www.w3.org/2000/svg"
                                         class="icon icon-tabler icon-tabler-shadow cursor-pointer"
                                         data-action="click->color-picker#showGradient"
                                         data-color-picker-target="toggleGradientOn"
                                         width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50"
                                         fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                        <circle cx="12" cy="12" r="9"/>
                                        <path d="M13 12h5"/>
                                        <path d="M13 15h4"/>
                                        <path d="M13 18h1"/>
                                        <path d="M13 9h4"/>
                                        <path d="M13 6h1"/>
                                    </svg>

                                    <svg xmlns="http://www.w3.org/2000/svg"
                                         class="icon icon-tabler icon-tabler-shadow-off hidden cursor-pointer"
                                         data-action="click->color-picker#hideGradient"
                                         data-color-picker-target="toggleGradientOff"
                                         width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50"
                                         fill="none" stroke-linecap="round" stroke-linejoin="round">
                                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                        <path d="M5.634 5.638a9 9 0 0 0 12.728 12.727m1.68 -2.32a9 9 0 0 0 -12.086 -12.088"/>
                                        <path d="M16 12h2"/>
                                        <path d="M13 15h2"/>
                                        <path d="M13 18h1"/>
                                        <path d="M13 9h4"/>
                                        <path d="M13 6h1"/>
                                        <path d="M3 3l18 18"/>
                                    </svg>
                                </span>

                            </span>

                            {{ form_widget(form.textColor, {
                                attr: {
                                    'class': 'hidden leading-none text-slate-900 focus:outline-none focus:border-blue-700 mt-4 bg-slate-100 border rounded border-slate-200 w-full h-10',
                                    'data-color-picker-target': 'colorInput'
                                }}) }}

                            <div data-color-picker-target="picker" class="py-4"></div>
                        </div>

                    </div>

                </div>

                <h2 class="w-full my-4 font-bold text-xl pt-4">Transition settings for Color view</h2>
                <div class="w-full flex flex-col md:flex-row gap-8">
                    <div class="w-full md:w-1/2">
                        {{ form_label(form.transitionFunction, null, {label_attr: {'class': 'font-semibold leading-none block mb-2' }}) }}

                        {{ form_widget(form.transitionFunction, {
                            attr: {
                                'class': 'leading-none text-slate-900 focus:outline-none focus:border-blue-700 mt-4 bg-slate-100 border rounded border-slate-200 w-full h-10 px-4',
                                'prompt': 'Choose...'
                            }}) }}
                    </div>
                    <div class="w-full md:w-1/2">
                        {{ form_label(form.transitionDuration, 'Transition duration (in seconds 0.1 - 999)', {label_attr: {'class': 'font-semibold leading-none block mb-2' }}) }}

                        {{ form_widget(form.transitionDuration, {
                            attr: {
                                'class': 'leading-none text-slate-900 focus:outline-none focus:border-blue-700 mt-4 bg-slate-100 border rounded border-slate-200 w-full h-10 px-4',
                                'type': 'number',
                                'step': '0.01',
                                'max': '999',
                                'min': '0.1'
                            }}) }}
                    </div>
                </div>

                <div class="flex items-center w-full">

                    <button class="mt-9 font-semibold leading-none text-white py-4 px-10 bg-blue-500 rounded hover:bg-blue-600 focus:ring-2 focus:ring-offset-2 focus:ring-blue-700 focus:outline-none">
                        {{ button_label|default('Save') }}
                    </button>
                </div>
                {{ form_end(form) }}

            </div>
        </div>


    </div>

{% endblock %}
